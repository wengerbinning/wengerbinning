# C数据结构

C的数据结构丰富，包含整数、浮点数、布尔、字符、指针、数据、结构、联合等多种类型的对象，可以满足不同场景中的应用。

## 数据对象

数据对象即我们表示的数据本身。数据对象一般有存储地址、数据大小、数据内容、数据类型等属性。数据的左值是数据对象本身，数据的右值是数据对象的数据内容。根据数据对象的特征可以分为数据变量、数据常量。

### 数据变量

数据变量是数据内容可变的数据对象。一般根据作用域可以分为局部变量与全局变量；根据限定词可以有自动变量、静态变量、外部变量、寄存器变量四类。

* 自动变量：
* 静态变量：
* 外部变量：
* 寄存器变量：

#### 全局变量

全局变量是作用域为程序内部可访问的数据变量。全局变量在虚拟内存中是存储在数据段。全局变量会默认初始化。

#### 局部变量

局部变量是作用域为函数内部可访问的数据变量。局部变量在虚拟内存中是存储在用户栈。局部变量默认不会初始化。

### 数据常量

数据常量是只读的数据对象，当创建之后不能被修改。常量可以分为字面常量与字符常量。

#### 字面常量

字面常量是直接使用的常量对象。

```c
// 整数类型的字面常量。
12; 12U; 0xFF; 12L; ffH; 012; 0b10101; 
// 字符类型的字面常量。
'a'; "string";
// 布尔类型常量。
true; false;   
```

当然在C语言中除了直接只用字面常量外，也可以使用宏定义来将字面常量定义为宏常量，方面程序的维护。

* 宏常量：

  ```c
  // 定义圆周率常量。
  #define PI 3.1415926
  ```

#### 字符常量

字符常量是我们使用const定义的常量。

* const常量：

  ```c
  const int NUM = 10;
  ```

## 数据类型

C语言包含数值、字符、空白等基础的数据类型，同时也支持特殊的数据类型，例如指针、数组、结构体、联合等特殊的数据类型；在这里只说明基础数据类型，其他特殊类型将单独来说明。

### 数值类型

数值类型是用于数值计算的数据类型。包含整数类型与浮点数类型。

| 类型 | 说明 |
|:---:|:--- |
| char | 有符号单字节整数 |
| unsigned char | 无符号单字节整数 |
| short | 有符号短整型 |
| unsigned short | 无符号短整型 |
| int | 有符号整型 |
| unsigned int | 无符号整型 |
| long | 有符号长整型 |
| unsigned long | 无符号长整型 |
| int32_t | 
| uint32_t |
| int64_t |
| uint64_t |
| float | 单精度浮点型 |
| double | 双精度浮点类型 |
| long double | 双精度长浮点类型 |

* `unsigned char`与`char`：该类型是原是存储ASCII编码的字符的数据类型，后来经常存储小数值的整数，所占内存空间为1B。
* `unsigned short`与`short`：该类型用于存储小数值的整数，所占内存为2B。
* `unsigned int`与`int`：该类型是常用的整数类型，所占内存为4B。
* `uint32_t`与`int32_t`：该类型是32位的整数类型，所占内存为4B。
* `uint64_t`与`int64_t`：该类型是64位的整数类型，所占内存位8B。
* `uisigned long`与`long`：该类型是大数值的整数类型，所占内存根据程序位数而变，在32位程序上占4B，在64位程序上占8B。
* `float`与`double`：单精度浮点数与双精度浮点数。

在C语言中无符号整数使用原码表示，有符号整数默认使用补码表示，在无符号与有符号同时参与运算时，有符号的整数被隐式转化为无符号整数，对关系运算符的结果产生影响。

### 字符类型

* `unsigned char`与`char`：无符号字符类型与有符号字符类型。在Linux中可以使用`man ascii`生成ASCII表。

* 字符串类型：在C语言中字符串是以一个null值作为结尾的字符数组实现的。

### 空白类型

空白类型是void，是指没有任何数据的类型，一般用于无返回、无参数、空指针。

### 类型定义

C语言除了以上的基础类型，还支持使用typedef定义一个新的类型。

```c
// typedef定义的一般格式，定义一个新类型size，类型与unsigned int一样。
typedef unsigned int size

// 定义一个函数指类型,该类型是一个函数指针类型。
typedef int (*type_name)(int a, int b);
```

## 指针

指针是一类专门存储内存地址的数据对象，该数据对象的赋值只能是与声明相同数据类型对象的内存地址或者NULL；在指针中有一类特殊的应用，例如函数指针、二维指针等。以下是常用指针的说明。

* 函数指针：指针指向的数据对象是一个函数。
* 数组指针：指针指向的数据对象是一个数组。
* 二维指针：指针指向的数据对象是一个指针。

calloc与malloc以及realloc的辨析：

* void* malloc(unsigned size): 用于申请固定size字节的连续内存空间。不会初始化为零值。返回是一个对象。
* void* calloc(unsigned n, unsigned size): 用于申请n个固定size字节的连续内存空间。在分配时初始化为零值。返回是一个数组。
* void* realloc(void *p, unsigned size): 将指针p指向的内存改为size.

## 数组

同一数据类型的数据集。



## 结构体

根据已有的数据类型扩展复杂的数据类型。

#### 结构的定义

* 结构的定义：

  ```C
  typedef struct {
    int id;
  }structer;
  ```

## 联合体

#### 联合的定义



## 数据转换

### 进制转换

### 类型转换

* typedef
* typeof用于定义一个函数返回值类型的变量。
## 数据运算

### 赋值运算符

* `=`: 将右边结果赋值为左边变量。
* `*=`
* `/=`
* `+=`
* `-+`
* `%=`

### 算数运算符

用于数值计算的运算符:

* `*`：
* `/`：整数运算的结果只能是整数
* `+`：
* `-`：
* `%`：

### 增量运算符

* `++`: 将变量进行加一操作,有先加后赋值与先赋值后加的区别;
* `--`: 将变量进行减一操作,有先减后赋值与先赋值后减的区别;

> 长度运算符

* `sizeof`: 求取对象的字节数;

* 使用`typedef`语句可以给数据类型指定别名

```C
typedef <源数据类型> <别名>;
```

### 关系运算符

* `<`：小于
* `>=`：不小于
* `>`：大于
* `<=`：不大于
* `==`：等于
* `!=`：不等于

### 逻辑运算符


逻辑运算符有与、或、非，逻辑运算符与布尔运算符不同。


* `&&`：逻辑与
* `||`：逻辑或
* `!`：逻辑非

### 布尔运算符

布尔运算符是计算机支持位向量运算的运算符,主要由或、与、非、异或这四种运算符。

| 运算符 | 说明 |
|:---:|:--- |
| `|` | 按位或 |
| `&` | 按位与 |
| `~` | 按位取反 |
| `^` | 按位异或 |

### 移位运算符

移位运算符是将数据进行向左或向右移位的操作符。

| 运算符 | 说明 |
|:---:|:--- |
| `<<` | 向左移位运算符 |
| `>>` | 向右移位运算符 |

* 右移有逻辑右移与算数右移两种。逻辑右移是在左侧补充0；算数右移是补充最高有效位。算数右移是针对有符号数据；无符号使用逻辑右移。在许多机器上，当移位的个数大于数据本身的位数时，实际移位的是对数据位数取余之后的个数。

### 指针运算符

* `*`：间接引用运算符
* `&`：取地址符

### 其他运算符

* 条件表达式：
  * 条件 ? true : false；
* 逗号表达式：
  * 表达式1，表达式2，表达式3 ，···，表达式n；将表达式n作为语句值；



## 其他


### 时间

时间有各类格式，例如时间戳、ISO-8601时间格式、GMT时间格式，其内容包含（年、月、日、星期、小时、分钟、秒）


闰秒（或称跳秒）是对协调世界时作出加一秒或减一秒的调整，用来调整世界时间。

* 时间戳（timestamp）是数字签名技术产生的时间数据格式，根据使用场景有不同的时间戳。
    
    * unix时间戳是自1970年1月1日开始所经过的秒数。
    * 

* ISO8601时间格式：<yyyy>-<MM>-<dd>T<HH>:<mm>:<ss>.<SSS><XXX>
* GMT时间格式：<EEE>,<d> <MMM> <yyyy> <HH>:<mm>:<ss> GMT